#!/usr/bin/env node
var r=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var w=r((wt,f)=>{var ye=()=>(console.log("\x1B[34m%s\x1B[0m","#######################################"),console.log("\x1B[34m%s\x1B[0m","#                                     #"),console.log("\x1B[34m%s\x1B[36;1m%s\x1B[34m%s\x1B[0m","#       ","Create Node Application!","      #"),console.log("\x1B[34m%s\x1B[0m","#                                     #"),console.log("\x1B[34m%s\x1B[0m","#######################################"),console.log("\x1B[34m%s\x1B[0m","#                                     #"),console.log("\x1B[34m%s\x1B[36;1m%s\x1B[34m%s\x1B[0m","#      ","Anton Kalik Development","        #"),console.log("\x1B[34m%s\x1B[0m","#                                     #"),console.log("\x1B[34m%s\x1B[0m","#######################################"),new Promise(e=>{setTimeout(()=>{e()},1e3)}));f.exports=ye});var h=r((yt,y)=>{function he(e){return e.reduce((t,s)=>{let[o,i]=s.replace(/^-+/,"").split("=");return t[o]=isNaN(i)?i:Number(i),t},{})}y.exports=he});var p=r((ht,v)=>{var ve={text:function(...e){console.log("\x1B[1m%s\x1B[0m",e.join(" "))},error:(...e)=>{console.log("\x1B[31;1m%s\x1B[0m",e.join(" "))},success:(...e)=>{console.log("\x1B[32;1m%s\x1B[0m",e.join(" "))},dim:(...e)=>{console.log("\x1B[2m%s\x1B[0m",e.join(" "))}};v.exports=ve});var j=r((vt,q)=>{function qe(e,t=50){process.stdout.write("\x1B[90m"+e+"\x1B[0m ");let s=0,o=setInterval(()=>{s<t?(process.stdout.write("\x1B[90m.\x1B[0m"),s++):clearInterval(o)},500);return o}q.exports=qe});var D=r((qt,k)=>{var l=p();k.exports=function(e){l.dim(`
--------------------------------------------------
`),l.dim("Run 'cd",e,"' to enter the application folder."),l.dim("Run 'npm run build' to build the application."),l.dim("Run 'npm run dev' to start the application.")}});var R=r((jt,C)=>{var c=p(),je=()=>{c.dim(`
--------------------------------------------------
`),c.dim("Feel free to contact me:"),c.text("github.com/antonkalik"),c.text("twitter.com/idedycom"),c.text("antonkalik@gmail.com"),c.dim(`
--------------------------------------------------
`),c.dim(`Happy coding!
`)};C.exports=je});var _=r((kt,F)=>{var{exec:ke}=require("child_process");function De(e,t,s,o){let i=ke(e,{cwd:t});i.stdout.on("data",a=>{s(a)}),i.stderr.on("data",a=>{s(a)}),i.on("exit",o)}F.exports=De});var n=r((Dt,S)=>{var Ce=require("fs").promises,Re=require("path");async function Fe(e={},t,s){let o;if(typeof e=="string")o=e;else try{o=JSON.stringify(e,null,2)}catch{throw new Error("Provided content cannot be stringified to JSON.")}await Ce.writeFile(Re.join(t,s),o)}S.exports=Fe});var O=r((Ct,P)=>{var _e=n();P.exports=e=>_e("node_modules/*",e,".eslintignore")});var I=r((Rt,E)=>{var Se=n();E.exports=function(e){return Se({env:{es6:!0,node:!0,mocha:!0,jest:!0},extends:["eslint:recommended","plugin:@typescript-eslint/eslint-recommended"],parser:"@typescript-eslint/parser",parserOptions:{ecmaVersion:2018},plugins:["prettier","@typescript-eslint"],rules:{"no-undef":2,"no-unused-vars":"off","no-useless-escape":0,"prettier/prettier":"error","@typescript-eslint/no-unused-vars":["error",{vars:"all",args:"after-used",ignoreRestSiblings:!1}]}},e,"eslintrc.json")}});var T=r((Ft,N)=>{var Pe=n();N.exports=e=>Pe(`
# Main
/.idea/
/node_modules/
.DS_Store
/dist

# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# Bower dependency directory (https://bower.io/)
bower_components

# node-waf configuration
.lock-wscript

# Compiled binary addons (https://nodejs.org/api/addons.html)
build/Release

# Dependency directories
node_modules/
jspm_packages/

# TypeScript v1 declaration files
typings/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variables file
.env
.env.test

# parcel-bundler cache (https://parceljs.org/)
.cache

# Next.js build output
.next

# Nuxt.js build / generate output
.nuxt
dist

# Gatsby files
.cache/
# Comment in the public line in if your project uses Gatsby and *not* Next.js
# https://nextjs.org/blog/next-9-1#public-directory-support
# public

# vuepress build output
.vuepress/dist

# Serverless directories
.serverless/

# FuseBox cache
.fusebox/

# DynamoDB Local files
.dynamodb/

# TernJS port file
.tern-port
`,e,".gitignore")});var $=r((_t,M)=>{var Oe=n();M.exports=function(e){return Oe({clearMocks:!0,transform:{"^.+\\.ts?$":"ts-jest"},testRegex:"(/__tests__/.*|(\\.|/)(test|spec))\\.ts?$",testPathIgnorePatterns:["\\\\node_modules\\\\"],coverageDirectory:"coverage",verbose:!0,testURL:"http://localhost/",testEnvironment:"node",modulePaths:["./"],moduleNameMapper:{"/^src/(.*)$/":"<rootDir>/src/$1"}},e,"jest.config.json")}});var L=r((St,J)=>{var Ee=n();J.exports=function(e){return Ee({watch:["src/"]},e,"nodemon.json")}});var W=r((Pt,A)=>{var Ie=n();A.exports=e=>Ie("v18.17.1",e,".nvmrc")});var G=r((Ot,B)=>{var Ne=n();B.exports=function(e){return Ne({singleQuote:!0,trailingComma:"es5",printWidth:100,arrowParens:"avoid",overrides:[{files:".prettierrc",options:{parser:"json",jsxBracketSameLine:!1}}]},e,".prettierrc")}});var U=r((Et,K)=>{var Te=n();K.exports=e=>Te(`**/*.md
**/*.svg
**/*.html
**/*.ejs`,e,".prettierignore")});var H=r((It,V)=>{var Me=n();V.exports=function(e){return Me({compilerOptions:{outDir:"./dist",sourceMap:!0,rootDir:".",noImplicitAny:!1,module:"commonjs",target:"es6",moduleResolution:"node",esModuleInterop:!0,strict:!0,typeRoots:["node_modules/@types","src/@types"],useUnknownInCatchVariables:!1,skipLibCheck:!0,baseUrl:"./",paths:{"src/*":["src/*"]},types:["node","jest"]},include:["src/**/*"],exclude:["node_modules","**/*.spec.ts"]},e,"tsconfig.json")}});var Q=r((Nt,z)=>{var $e=n();z.exports=function(e){return $e({rules:{"no-unreachable":!0}},e,"tslint.json")}});var Z=r((Tt,X)=>{var Je=require("path"),Y=require("fs").promises;function Le(e){let t=Je.join(e,"package.json");return Y.readFile(t,"utf8").then(s=>{let o=JSON.parse(s);return o.scripts={start:"node dist/index.js",build:"esbuild src/index.ts --bundle --platform=node --outfile=dist/index.js",dev:"nodemon -r ts-node/register src/index.ts",lint:"eslint 'src/**/*.{ts,tsx}'","lint:fix":"eslint 'src/**/*.{ts,tsx}' --fix",format:"prettier --write 'src/**/*.{ts,tsx}'"},Y.writeFile(t,JSON.stringify(o,null,2))})}X.exports=Le});var re=r((Mt,te)=>{var ee=p(),Ae=O(),We=I(),Be=T(),Ge=$(),Ke=L(),Ue=W(),Ve=G(),He=U(),ze=H(),Qe=Q(),Ye=Z();te.exports=async e=>{try{await Promise.all([Ye,Ae,We,Be,Ge,Ke,Ue,Ve,He,ze,Qe].map(t=>t(e))),ee.success("Done!")}catch(t){ee.error("Error writing files:",t)}}});var oe=r(($t,se)=>{var Xe=`
import express from 'express';

const app = express();
const PORT = 3000;

app.get('/', (req, res) => res.send('Hello World!'));

app.listen(PORT, () => {
    console.log(\`App listening at http://localhost:\${PORT}\`);
});
`;se.exports=Xe});var ie=r((Jt,ne)=>{var Ze=`
import Koa, { ExtendableContext } from 'koa';
import Router from 'koa-router';
import bodyParser from 'koa-bodyparser';
import cors from '@koa/cors';

const port = process.env.PORT || 9999;

const app = new Koa();
const router = new Router();

app.use(cors());
app.use(router.routes());
app.use(bodyParser());

app.on('error', (error: Error, ctx: ExtendableContext) => {
  console.error('SERVER_ERROR', error, ctx);
});

app.listen(port || 9999);
`;ne.exports=Ze});var pe=r((Lt,ce)=>{var et=oe(),tt=ie(),rt={express:et,koa:tt};function st(e){if(!e)throw new Error("Should provide framework");let t=rt[e];if(!t)throw new Error(`Framework ${e} is not supported`);return t}ce.exports=st});var ue=r((At,le)=>{var ae=["typescript","@types/node","esbuild","ts-node","nodemon","eslint","@typescript-eslint/parser","@typescript-eslint/eslint-plugin","eslint-config-prettier","eslint-plugin-prettier","prettier"];function ot(e){if(!e)throw new Error("Framework is not defined!");let s={express:{dependencies:["express","body-parser","cors"],devDependencies:["@types/express","@types/body-parser","@types/cors"]},koa:{dependencies:["koa","koa-router","koa-bodyparser","@koa/cors"],devDependencies:["@types/koa","@types/koa-router","@types/koa-bodyparser","@types/koa-cors"]}}[e];if(!s)throw new Error("Framework is not valid!");return{dependencies:[...ae,...s.dependencies],devDependencies:[...ae,...s.devDependencies]}}le.exports=ot});var ge=r((Wt,me)=>{var d=require("path"),u=require("fs"),m=p(),{execSync:nt}=require("child_process"),g=j(),it=D(),ct=R(),de=_(),pt=re(),at=pe(),lt=ue();function ut(e,t){let s=d.join(process.cwd(),e);if(!u.existsSync(s))u.mkdirSync(s,{recursive:!0}),u.mkdirSync(d.join(s,"src"));else{m.error(`Folder ${e} already exists!`);return}nt("npm init -y",{cwd:s});let o=g("\u2022 Installing dependencies"),{dependencies:i,devDependencies:a}=lt(t);de(`npm i ${i.join(" ")}`,s,()=>{},()=>{clearInterval(o),m.success("Done!");let fe=g("\u2022 Installing devDependencies");de(`npm install -D ${a.join(" ")}`,s,b=>{},()=>{clearInterval(fe),m.success("Done!");let b=g("\u2022 Writing files");pt(s).then(()=>{clearInterval(b)}).then(()=>{let we=at(t);u.writeFileSync(d.join(s,"src","index.ts"),we.trim()),it(e),ct()})})})}me.exports=ut});var dt=w(),mt=h(),gt=ge(),be=p(),[xt,...bt]=process.argv.slice(2),xe=mt(bt),x=xe.framework||xe.fw;x||(be.error("No framework specified!"),process.exit(1));dt().then(()=>{be.text(`
Creating`,x,`application started!
`),gt(xt,x)});
